!function(a){a.Url=function(b){var c=this,d=function(a){return null==a||""===a?"":a.toString()},e="";this.protocol=function(a){return"undefined"==typeof a?e:(e=d(a),void(e&&":"!=e.charAt(e.length-1)&&(e+=":")))};var f="";this.hostname=function(a){return"undefined"==typeof a?f:void(f=d(a))};var g="";this.port=function(a){return"undefined"==typeof a?g:void(g=d(a))},this.host=function(a){if("undefined"==typeof a){var b=f;return g&&(b+=":"+g),b}if(a=d(a)){var c=a.indexOf(":");-1!=c?(f=a.substr(0,c),g=a.substr(c+1,a.length)):(f=d(a),g="")}else f="",g=""};var h="";this.pathname=function(a){return"undefined"==typeof a?h:void(h=d(a))},this.queryString={},this.search=function(b){if("undefined"==typeof b){var e=a.param(c.queryString);return e?"?"+e:e}b=d(b),c.queryString=a.deparam(b)};var i="";this.hash=function(a){return"undefined"==typeof a?i:(a=d(a),a.length>0&&"#"!=a.charAt(0)&&(a="#"+a),i=a,void 0)};var j=function(b){var d,f=b;if(0===f.search(/https\:\/\/+/i)?(e="https:",f=b.substr(8)):0===f.search(/http\:\/\/+/i)&&(e="http:",f=b.substr(7)),0!==f.length){if(""!==e){if(d=f.search(/[\/\?\#]/i),-1==d)return void c.host(f);c.host(f.substring(0,d)),f=f.substr(d)}if(0!==f.length){if(d=f.search(/[\?\#]/i),0!==d){if(-1==d)return void(h=f);h=f.substr(0,d),f=f.substr(d)}0!==f.length&&(0===f.indexOf("?")&&(d=f.indexOf("#"),-1==d?(c.queryString=a.deparam(f.substr(1)),f=""):(c.queryString=a.deparam(f.substring(1,d)),f=f.substr(d))),0!==f.length&&0===f.indexOf("#")&&(i=f))}}};this.toString=function(){var a="",b=c.host();return b&&(a=(e||"http:")+"//"+c.host()),a+c.pathname()+c.search()+c.hash()},this.get=function(a,b){return c.queryString.hasOwnProperty(a)?d(c.queryString[a]):b},this.set=function(a,b){if(null==a||""===a)throw new Error("Invalid key: "+a);c.queryString[a]=b},this.remove=function(a){delete c.queryString[a]},this.getItemOrDefault=this.get,this.getOrDefault=this.get,this.getItem=this.get,this.setItem=this.set,this.removeItem=this.remove,j(b?b.toString():"")}}(jQuery);